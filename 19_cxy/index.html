<!DOCTYPE html>
<html>
<head>
	<title>18</title>
	<meta charset="utf-8">
	<style type="text/css">
	ul{display: flex;align-items: flex-end;}
li{list-style: none;width: 20px; background: red;color: #fff;margin-right: 10px;}
ul:after{content: '';display: table;clear: both;height: 100px;}

	</style>
</head>
<body>
<input type="text" id="input"></input>
<button id="l_in">左侧入</button>
<button id="r_in">右侧入</button>

<button id="l_out">左侧出</button>
<button id="r_out">右侧出</button>
<button id="layout">排序</button>
<ul id="list">
</ul>
</body>
<script type="text/javascript">
(function () {
	var input = document.getElementById('input');
	var l_in = document.getElementById('l_in');
	var r_in = document.getElementById('r_in');
	var l_out = document.getElementById('l_out');
	var r_out = document.getElementById('r_out');
	var arr = []

	var list = document.getElementById('list');

	l_in.onclick = function () {
		var num = input.value
		leftIn(num,list,arr)
		console.log(arr)		
	}
	l_out.onclick = function () {
		leftOut(list,arr)
		console.log(arr)
	}
	r_in.onclick = function () {
		var num = input.value
		rightIn(num,list,arr)
		console.log(arr)
	}
	r_out.onclick = function () {
		rightOut(list,arr)
		console.log(arr)
	}
	
})()

function check(num,arr) {
	if (arr.length <= 60) {
		if (num && num.match(/[0-9]/) && num>10 && num<100) {
			return 1
		}else{
			return 0
		}		
	}else{
		return 2
	}
}
function leftIn(num,list,arr) {
	if (check(num,arr) === 1) {
		arr.unshift(num)
		draw(list,arr)
		// var li = document.createElement('li');
		// li.onclick = function() {
		// 	list.removeChild(li);
		// }
		// li.style.height = num + 'px';
		// if (list.firstChild) {
		// 	list.insertBefore(li,list.firstChild);
		// }else{
		// 	list.appendChild(li)
		// }
	}else if(check(num,arr) === 0){
		console.log('类型错误')
	}else {
		console.log('长度超出')
	}

}
function leftOut(list,arr) {
	arr.shift()
	draw(list,arr)
	// var li = list.firstChild;
	// list.removeChild(li)
}
function rightIn(num,list,arr) {
	if (check(num,arr) === 1) {
		arr.push(num)
		draw(list,arr)
		// var li = document.createElement('li');
		// li.onclick = function() {
		// 	list.removeChild(li);
		// }
		// li.style.height = num + 'px';
		// list.appendChild(li);		
	}else if(check(num,arr) === 0){
		console.log('类型错误')
	}else {
		console.log('长度超出')
	}

}
function rightOut(list,arr) {
	arr.pop()
	draw(list,arr)
	// var li = list.lastChild;
	// list.removeChild(li)
}
function draw(list,arr) {
	list.innerHTML='';
	for (var i = 0; i < arr.length; i++) {
		var li = document.createElement('li')
		li.style.height = arr[i] + 'px';
		list.appendChild(li)
	}
}
function sort(arr) {
	// body...
}
</script>
</html>